<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Members Management System - Search</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="member_search.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>会员管理系统</h1>
            <nav class="system-nav">
                <button class="btn btn-primary tooltip" onclick="resetColumnWidths()">
                    <i class="fas fa-arrows-alt-h"></i> 重置列宽
                    <span class="tooltip-text">将表格列宽重置为默认值</span>
                </button>
                <button class="btn btn-primary tooltip" onclick="location.href='../project.html'">
                    <i class="fas fa-home"></i> 返回
                    <span class="tooltip-text">返回到主页面，查看所有系统模块</span>
                </button>
                <button class="btn btn-success tooltip" onclick="location.href='member_management.html'">
                    <i class="fas fa-box"></i> 增加会员
                    <span class="tooltip-text">添加新会员到系统中，录入会员的详细信息</span>
                </button>
              
                <button id="searchBirthday" class="btn btn-info tooltip">
                    <i class="fas fa-birthday-cake"></i> 本月生日
                    <span class="tooltip-text">
                        <strong>核心功能：</strong> 查找并显示所有在本月（当前月份）过生日的塾员。帮助您快速定位当月寿星，以便及时送上祝福或安排相关活动。
                        <br>
                        <strong>使用须知：</strong><br>
                        1.  <strong>筛选依据：</strong> 本功能仅基于塾员信息中记录的“生日月份”与当前的实际月份进行匹配。例如，若当前是 6 月，则会显示所有“生日月份”记录为“6”的塾员。
                        <br>
                        2.  <strong>数据精确性：</strong> 此筛选不关心具体的出生日期（日）或年份，仅以记录的月份数字（1-12）作为唯一匹配条件。
                        <br>
                        3.  <strong>数据完整性：</strong> 请确保塾员的“生日月份”信息已正确录入（应为 1 至 12 的数字）。若该字段为空、格式错误或记录的不是月份数字，对应塾员将无法通过此功能被筛选出来。
                        <br>
                        <strong>补充：词语解释</strong><br>
                        <strong>生日月份：</strong> 塾员信息中用于记录其生日所在月份的栏位。该栏位预期存储的值为 1 至 12 的数字，代表一月至十二月。
                        <br>
                        <strong>当前月份：</strong> 指系统运行时自动获取的服务器或您本地设备的当前日历月份。按钮点击时，系统会使用这个月份值进行匹配查找。
                    </span>
                </button>
                <button id="searchExpiry" class="btn btn-warning tooltip">
                    <i class="fas fa-calendar-times"></i> 到期会员
                    <span class="tooltip-text">
                        <strong>核心功能：</strong>显示所有本月过生日的塾员，帮助您及时准备祝福或提醒。
                        <br>
                        <strong>使用须知：</strong>
                        <br>
                        1. <strong>数据依赖: </strong>本功能仅对比“生日月期”与当前月份是否相同。
                        <br>
                        2. <strong>无到期日期的处理: </strong>若塾员的“到期日期”为空，系统无法显示（历史数据问题）。解决方法为通过“塾员种类”筛选功能，选择特定分类（如“逾期，拒绝续费”）查找此类塾员。
                        <br>
                        <strong>补充：词语解释</strong>
                        <br>
                        <strong>到期日期: </strong>记录塾员为塾员的最后日期（如“2024-06-1”表示在2024年5月30日后不为塾员）。
                        <br>
                        <strong>当前日期: </strong>指系统运行时自动获取的服务器或您本地设备的当前日历月份。按钮点击时，系统会使用这个月份值进行匹配查找。
                    </span>
                </button>
                <button id="listAllMembers" class="btn btn-secondary tooltip">
                    <i class="fas fa-list"></i> 所有会员
                    <span class="tooltip-text">显示系统中的所有会员记录</span>
                </button>
                
                <select id="memberFilter" class="btn btn-light tooltip">
                    <!-- Options will be populated by JavaScript -->
                    <span class="tooltip-text">按会员类型筛选会员列表</span>
                </select>
                
            </nav>
        </header>

        <section class="search-container">
            <div class="search-wrapper">
                <div class="search-input-group">
                    <i class="fas fa-search search-icon"></i>
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="使用ID, 名称," 
                        aria-label="Search stocks">
                </div>
                
            </div>
            <div class="search-stats">
                <span class="stats-label">会员数量:</span>
                <span id="totalMembers" class="stats-value">0</span>
            </div>
        </section>

        <section class="table-container">
            <div class="loader">
                <div class="spinner"></div>
                <span>Loading stocks...</span>
            </div>
            
            <div class="table-responsive">
                <table id="memberTable" aria-label="Member list">
                    <thead>
                        <tr>
                            <th data-column="membersID">会员ID<div class="resizer"></div></th>
                            <th data-column="Name">姓名（英）<div class="resizer"></div></th>
                            <th data-column="CName">姓名（中）<div class="resizer"></div></th>
                            <th data-column="Designation_of_Applicant">种类<div class="resizer"></div></th>
                            <th data-column="Address">地址<div class="resizer"></div></th>
                            <th data-column="phone_number">手机号码<div class="resizer"></div></th>
                            <th data-column="email">邮箱<div class="resizer"></div></th>
                            <th data-column="IC">IC 号码<div class="resizer"></div></th>
                            <th data-column="oldIC">旧 IC 号码<div class="resizer"></div></th>
                            <th data-column="gender">性别<div class="resizer"></div></th>
                            <th data-column="componyName">公司名字<div class="resizer"></div></th>
                            <th data-column="Birthday">生日月份<div class="resizer"></div></th>
                            <th data-column="expired_date">到期日期<div class="resizer"></div></th>
                            <th data-column="place_of_birth">出生地点<div class="resizer"></div></th>
                            <th data-column="others">其他<div class="resizer"></div></th>
                            <th data-column="remarks">备注<div class="resizer"></div></th>
                            <th>操作</th>
                           
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dynamic Content -->
                    </tbody>
                </table>
            </div>
            
            <div class="pagination-container">
                <button id="prevPage" class="btn btn-primary">←</button>
                <div class="pagination"></div>
                <button id="nextPage" class="btn btn-primary">→</button>
                <div class="items-per-page">
                    <label for="itemsPerPage">Items per page:</label>
                    <select id="itemsPerPage">
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                    </select>
                </div>
            </div>
        </section>
    </div>

    <script src="member_search.js"></script>
</body>
</html>
